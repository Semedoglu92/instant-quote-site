<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Instant Repair Quote</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      padding: 40px;
      min-height: 100vh;
    }
    .container {
      max-width: 520px;
      margin: 0 auto;
      background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
      padding: 28px 36px;
      border-radius: 18px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.12);
      border: 2px solid #fff;
    }
    h2 {
      text-align: center;
      color: #ff6f61;
      font-size: 2rem;
      margin-bottom: 18px;
      letter-spacing: 1px;
      font-weight: 700;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      color: #007bff;
      letter-spacing: 0.5px;
    }
    input {
      width: 100%;
      padding: 12px;
      margin-top: 5px;
      border: 1.5px solid #90caf9;
      border-radius: 8px;
      background: #f6f9ff;
      font-size: 1rem;
      transition: border-color 0.2s;
      box-shadow: 0 2px 6px rgba(0,0,0,0.04);
    }
    input:focus {
      border-color: #ff6f61;
      outline: none;
      background: #fffde7;
    }
    button {
      margin-top: 24px;
      width: 100%;
      padding: 14px;
      background: linear-gradient(90deg, #ff6f61 0%, #ffb88c 100%);
      <!doctype html>
      <html lang="en">
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>Instant Repair Quote</title>
        <meta name="description" content="Get an instant, friendly repair quote for your device.">
        <style>
          :root{
            --bg1:#0f172a;
            --accent1:#ff7a59;
            --accent2:#ffd07a;
            --glass: rgba(255,255,255,0.06);
            --muted: #cbd5e1;
            --card: rgba(255,255,255,0.03);
          }
          html,body{height:100%;margin:0}
          body{
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
            background: radial-gradient(1200px 600px at 10% 10%, rgba(255,122,89,0.06), transparent),
                        radial-gradient(900px 400px at 90% 90%, rgba(255,208,122,0.04), transparent),
                        linear-gradient(180deg,var(--bg1) 0%, #071020 100%);
            color: #e6eef8;
            -webkit-font-smoothing:antialiased;
            padding:40px 20px;
            box-sizing:border-box;
          }
          .wrap{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:start}
          /* Hero */
          .hero{padding:36px;border-radius:14px;background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 10px 40px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
          .logo{display:flex;align-items:center;gap:12px}
          .logo .badge{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:700;color:#102235;box-shadow:0 6px 18px rgba(255,122,89,0.14);}
          h1{font-size:2.1rem;margin:12px 0 6px}
          p.lead{color:var(--muted);margin:0 0 16px}
          .features{display:flex;gap:12px;margin-top:18px}
          .feature{flex:1;background:var(--card);padding:12px;border-radius:10px;color:var(--muted);font-size:0.95rem;display:flex;gap:10px;align-items:center}
          .feature svg{opacity:0.95}

          /* Form / card */
          .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:22px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 12px 30px rgba(2,6,23,0.55)}
          form{display:grid;gap:10px}
          .row{display:flex;gap:10px}
          input,select,textarea{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:inherit;font-size:0.98rem}
          input:focus,select:focus,textarea:focus{outline:none;box-shadow:0 6px 18px rgba(0,0,0,0.5);border-color:rgba(255,122,89,0.9)}
          label{font-size:0.85rem;color:var(--muted);display:block;margin-bottom:6px}
          button.primary{display:inline-flex;align-items:center;gap:10px;justify-content:center;padding:12px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#102235;font-weight:700;cursor:pointer;font-size:1rem}
          button.primary:active{transform:translateY(1px)}
          .help{font-size:0.85rem;color:var(--muted);margin-top:8px}

          /* Animated output */
          .output{min-height:72px;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015));border:1px dashed rgba(255,255,255,0.03);color:var(--muted);}
          .pulse{display:inline-block;width:10px;height:10px;border-radius:50%;background:var(--accent2);box-shadow:0 0 18px rgba(255,208,122,0.3);animation:pulse 1.6s infinite}
          @keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.6);opacity:0.6}100%{transform:scale(1);opacity:1}}

          /* Responsive */
          @media (max-width:980px){.wrap{grid-template-columns:1fr;padding-bottom:30px}}
        </style>
      </head>
      <body>
        <main class="wrap">
          <section class="hero">
            <div class="logo">
              <div class="badge">IQ</div>
              <div>
                <h1>Instant Repair Quote</h1>
                <p class="lead">Fast, friendly repair estimates — enter your device details and get a suggested next step within seconds.</p>
              </div>
            </div>

            <div class="features" aria-hidden>
              <div class="feature"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2v6" stroke="#ffd07a" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.2 8.6L4 12" stroke="#ff7a59" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg><div><strong>Quick estimates</strong><div style="font-size:0.85rem;color:var(--muted)">Average response under a minute</div></div></div>
              <div class="feature"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 7h18" stroke="#ffd07a" stroke-width="1.6" stroke-linecap="round"/><path d="M12 3v18" stroke="#ff7a59" stroke-width="1.6" stroke-linecap="round"/></svg><div><strong>Friendly support</strong><div style="font-size:0.85rem;color:var(--muted)">Clear next steps and turnaround</div></div></div>
            </div>
          </section>

          <aside class="card">
            <form id="quoteForm">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
                <div style="font-weight:700">Get your quote</div>
                <div class="help">Secure • No spam</div>
              </div>
              <div class="row">
                <div style="flex:1">
                  <label for="name">Full name</label>
                  <input id="name" name="Name" placeholder="Jane Doe" required>
                </div>
                <div style="width:140px">
                  <label for="phone">Phone</label>
                  <input id="phone" name="Phone" placeholder="(555) 555-5555" required>
                </div>
              </div>

              <div class="row">
                <div style="flex:1">
                  <label for="deviceType">Device type</label>
                  <input id="deviceType" name="DeviceType" placeholder="Phone / Laptop / Tablet" required>
                </div>
                <div style="width:140px">
                  <label for="model">Model</label>
                  <input id="model" name="DeviceModel" placeholder="iPhone 12" required>
                </div>
              </div>

              <label for="brand">Brand</label>
              <input id="brand" name="Brand" placeholder="Apple, Samsung, Dell" required>

              <label for="issue">What’s wrong?</label>
              <textarea id="issue" name="Issue" rows="3" placeholder="Screen cracked, won't charge, etc." style="resize:none"></textarea>

              <label for="email">Email</label>
              <input id="email" name="Email" type="email" placeholder="you@example.com">

              <div style="display:flex;gap:10px;margin-top:6px">
                <button type="submit" class="primary">Get my instant quote</button>
                <button type="button" onclick="fillDemo()" style="background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:10px;border-radius:10px">Try demo</button>
              </div>

              <div style="margin-top:12px">
                <div id="output" class="output">No quote yet — fill the form and hit <strong>Get my instant quote</strong>.</div>
              </div>
            </form>
          </aside>
        </main>

        <script>
          // Keep existing backend hook; update if you have a different endpoint
          const N8N_URL = "https://instantrepair.up.railway.app/webhook/quote";

          const form = document.getElementById('quoteForm');
          const output = document.getElementById('output');

          form.addEventListener('submit', async (e)=>{
            e.preventDefault();
            const payload = {
              Name: document.getElementById('name').value.trim(),
              Phone: document.getElementById('phone').value.trim(),
              Brand: document.getElementById('brand').value.trim(),
              Issue: document.getElementById('issue').value.trim(),
              Email: document.getElementById('email').value.trim(),
              DeviceType: document.getElementById('deviceType').value.trim(),
              DeviceModel: document.getElementById('model').value.trim(),
              submittedAt: new Date().toISOString()
            };

            const btn = form.querySelector('button[type=submit]');
            btn.disabled = true; btn.textContent = 'Getting quote...';
            output.innerHTML = '<span style="display:flex;align-items:center;gap:10px"><span class="pulse"></span> Contacting service…</span>';
            try{
              const res = await fetch(N8N_URL, {method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
              if(!res.ok) throw new Error('HTTP '+res.status);
              const data = await res.json().catch(()=>({}));
              // Friendly output formatting
              const message = data.message || data.quote || '';
              const turnaround = data.turnaround ? `<div style="margin-top:6px;color:var(--muted)"><strong>Est. turnaround:</strong> ${data.turnaround}</div>` : '';
              output.innerHTML = `<div style="font-weight:700;color:#fff;">${message || 'Quote received — we will contact you shortly.'}</div>${turnaround}`;
            }catch(err){
              output.textContent = 'Sorry — couldn\'t fetch your quote. Try again in a moment.';
              console.error(err);
            }finally{
              btn.disabled = false;btn.textContent = 'Get my instant quote';
            }
          });

          function fillDemo(){
            document.getElementById('name').value = 'Alex Repair';
            document.getElementById('phone').value = '555-0102';
            document.getElementById('brand').value = 'Apple';
            document.getElementById('issue').value = 'Screen shattered and touch not responsive';
            document.getElementById('email').value = 'alex@example.com';
            document.getElementById('deviceType').value = 'Phone';
            document.getElementById('model').value = 'iPhone 12';
            output.innerHTML = '<em style="color:var(--muted)">Demo filled — press Get my instant quote.</em>';
          }
        </script>
      </body>
      </html>
